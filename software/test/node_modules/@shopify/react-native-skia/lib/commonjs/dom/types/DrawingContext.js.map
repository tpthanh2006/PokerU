{"version":3,"names":["_types","require","_Enum","_Node","_DeclarationContext","_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","JsiDrawingContext","constructor","Skia","canvas","paint","Paint","paints","declarationCtx","DeclarationContext","length","save","childPaint","copy","push","restore","pop","saveAndConcat","node","cache","ConcatablePaint","isPristine","concatTo","exports","declCtx","props","getProps","children","setColor","color","undefined","Color","setStrokeWidth","strokeWidth","setBlendMode","blendMode","setStyle","style","setStrokeJoin","strokeJoin","setStrokeCap","strokeCap","setStrokeMiter","strokeMiter","setOpacity","opacity","setAntiAlias","antiAlias","setDither","dither","forEach","child","JsiDeclarationNode","decorate","colorFilter","colorFilters","popAllAsOne","imageFilter","imageFilters","shader","shaders","maskFilter","maskFilters","pathEffect","pathEffects","setImageFilter","setShader","setPathEffect","setColorFilter","setMaskFilter","enum","key","enumKey","setValue","pristine","getColor","_color","getStrokeWidth","_strokeWidth","BlendMode","getBlendMode","_blendMode","PaintStyle","getStyle","_style","StrokeJoin","getStrokeJoin","_strokeJoin","StrokeCap","getStrokeCap","_strokeCap","getStrokeMiter","_strokeMiter","getOpacity","_opacity","getAntiAlias","_antiAlias","getDither","_dither","getImageFilter","_imageFilter","getShader","_shader","getPathEffect","_pathEffect","getColorFilter","_colorFilter","getMaskFilter","_maskFilter","setAlphaf","getAlphaf","currentOpacity"],"sources":["DrawingContext.ts"],"sourcesContent":["import type {\n  SkCanvas,\n  SkColor,\n  SkColorFilter,\n  SkImageFilter,\n  SkMaskFilter,\n  SkPaint,\n  SkPathEffect,\n  SkShader,\n  Skia,\n} from \"../../skia/types\";\nimport { BlendMode, PaintStyle, StrokeCap, StrokeJoin } from \"../../skia/types\";\nimport { enumKey } from \"../nodes/datatypes/Enum\";\nimport { JsiDeclarationNode } from \"../nodes/Node\";\n\nimport type { PaintProps, SkEnum } from \"./Common\";\nimport { DeclarationContext } from \"./DeclarationContext\";\nimport type { Node } from \"./Node\";\n\nexport interface DrawingContext {\n  canvas: SkCanvas;\n  paint: SkPaint;\n  saveAndConcat(node: Node<PaintProps>, cache?: SkPaint): boolean;\n  restore(): void;\n  declarationCtx: DeclarationContext;\n}\n\nexport class JsiDrawingContext implements DrawingContext {\n  paints: SkPaint[];\n\n  declarationCtx: DeclarationContext;\n\n  constructor(private readonly Skia: Skia, public readonly canvas: SkCanvas) {\n    const paint = this.Skia.Paint();\n    this.paints = [paint];\n    this.declarationCtx = new DeclarationContext(Skia);\n  }\n\n  get paint() {\n    return this.paints[this.paints.length - 1];\n  }\n\n  private save() {\n    const childPaint = this.paint.copy();\n    this.paints.push(childPaint);\n  }\n\n  restore(): void {\n    this.paints.pop();\n  }\n\n  saveAndConcat(node: Node<PaintProps>, cache?: SkPaint) {\n    if (cache) {\n      this.paints.push(cache);\n      return true;\n    }\n    const paint = new ConcatablePaint(this.Skia, this.declarationCtx, node);\n    if (!paint.isPristine()) {\n      this.save();\n      paint.concatTo(this.paint);\n      return true;\n    }\n    return false;\n  }\n}\n\nclass ConcatablePaint {\n  private pristine = true;\n\n  _color?: SkColor;\n  _strokeWidth?: number;\n  _blendMode?: BlendMode;\n  _style?: PaintStyle;\n  _strokeJoin?: StrokeJoin;\n  _strokeCap?: StrokeCap;\n  _strokeMiter?: number;\n  _opacity = 1;\n  _antiAlias?: boolean;\n  _dither?: boolean;\n\n  _imageFilter?: SkImageFilter;\n  _shader?: SkShader;\n  _pathEffect?: SkPathEffect;\n  _colorFilter?: SkColorFilter;\n  _maskFilter?: SkMaskFilter;\n\n  constructor(Skia: Skia, declCtx: DeclarationContext, node: Node<PaintProps>) {\n    const props = node.getProps();\n    const children = node.children();\n    this.setColor(\n      props.color !== undefined ? Skia.Color(props.color) : props.color\n    );\n    this.setStrokeWidth(props.strokeWidth);\n    this.setBlendMode(props.blendMode);\n    this.setStyle(props.style);\n    this.setStrokeJoin(props.strokeJoin);\n    this.setStrokeCap(props.strokeCap);\n    this.setStrokeMiter(props.strokeMiter);\n    this.setOpacity(props.opacity);\n    this.setAntiAlias(props.antiAlias);\n    this.setDither(props.dither);\n    declCtx.save();\n    children.forEach((child) => {\n      if (child instanceof JsiDeclarationNode) {\n        child.decorate(declCtx);\n      }\n    });\n    const colorFilter = declCtx.colorFilters.popAllAsOne();\n    const imageFilter = declCtx.imageFilters.popAllAsOne();\n    const shader = declCtx.shaders.pop();\n    const maskFilter = declCtx.maskFilters.pop();\n    const pathEffect = declCtx.pathEffects.popAllAsOne();\n    declCtx.restore();\n    if (imageFilter) {\n      this.setImageFilter(imageFilter);\n    }\n    if (shader) {\n      this.setShader(shader);\n    }\n    if (pathEffect) {\n      this.setPathEffect(pathEffect);\n    }\n    if (colorFilter) {\n      this.setColorFilter(colorFilter);\n    }\n    if (maskFilter) {\n      this.setMaskFilter(maskFilter);\n    }\n  }\n\n  private enum<T>(value: T, key?: Uncapitalize<string>) {\n    if (key !== undefined) {\n      return value[enumKey(key) as keyof T];\n    }\n    return undefined;\n  }\n\n  private setValue<T extends keyof typeof this>(\n    key: T,\n    value?: (typeof this)[T]\n  ) {\n    if (value !== undefined) {\n      this[key] = value;\n      this.pristine = false;\n    }\n  }\n\n  setColor(color?: SkColor) {\n    this.setValue(\"_color\", color);\n  }\n\n  getColor() {\n    return this._color;\n  }\n\n  setStrokeWidth(strokeWidth?: number) {\n    this.setValue(\"_strokeWidth\", strokeWidth);\n  }\n\n  getStrokeWidth() {\n    return this._strokeWidth;\n  }\n\n  setBlendMode(blendMode?: SkEnum<typeof BlendMode>) {\n    this.setValue(\"_blendMode\", this.enum(BlendMode, blendMode));\n  }\n\n  getBlendMode() {\n    return this._blendMode;\n  }\n\n  setStyle(style?: SkEnum<typeof PaintStyle>) {\n    this.setValue(\"_style\", this.enum(PaintStyle, style));\n  }\n\n  getStyle() {\n    return this._style;\n  }\n\n  setStrokeJoin(strokeJoin?: SkEnum<typeof StrokeJoin>) {\n    this.setValue(\"_strokeJoin\", this.enum(StrokeJoin, strokeJoin));\n  }\n\n  getStrokeJoin() {\n    return this._strokeJoin;\n  }\n\n  setStrokeCap(strokeCap?: SkEnum<typeof StrokeCap>) {\n    this.setValue(\"_strokeCap\", this.enum(StrokeCap, strokeCap));\n  }\n\n  getStrokeCap() {\n    return this._strokeCap;\n  }\n\n  setStrokeMiter(strokeMiter?: number) {\n    this.setValue(\"_strokeMiter\", strokeMiter);\n  }\n\n  getStrokeMiter() {\n    return this._strokeMiter;\n  }\n\n  setOpacity(opacity?: number) {\n    this.setValue(\"_opacity\", opacity);\n  }\n\n  getOpacity() {\n    return this._opacity;\n  }\n\n  setAntiAlias(antiAlias?: boolean) {\n    this.setValue(\"_antiAlias\", antiAlias);\n  }\n\n  getAntiAlias() {\n    return this._antiAlias;\n  }\n\n  setDither(dither?: boolean) {\n    this.setValue(\"_dither\", dither);\n  }\n\n  getDither() {\n    return this._dither;\n  }\n\n  setImageFilter(imageFilter?: SkImageFilter) {\n    this.setValue(\"_imageFilter\", imageFilter);\n  }\n\n  getImageFilter() {\n    return this._imageFilter;\n  }\n\n  setShader(shader?: SkShader) {\n    this.setValue(\"_shader\", shader);\n  }\n\n  getShader() {\n    return this._shader;\n  }\n\n  setPathEffect(pathEffect?: SkPathEffect) {\n    this.setValue(\"_pathEffect\", pathEffect);\n  }\n\n  getPathEffect() {\n    return this._pathEffect;\n  }\n\n  setColorFilter(colorFilter?: SkColorFilter) {\n    this.setValue(\"_colorFilter\", colorFilter);\n  }\n\n  getColorFilter() {\n    return this._colorFilter;\n  }\n\n  setMaskFilter(maskFilter?: SkMaskFilter) {\n    this.setValue(\"_maskFilter\", maskFilter);\n  }\n\n  getMaskFilter() {\n    return this._maskFilter;\n  }\n\n  isPristine() {\n    return this.pristine;\n  }\n\n  concatTo(paint: SkPaint) {\n    if (this._opacity !== undefined) {\n      paint.setAlphaf(paint.getAlphaf() * this._opacity);\n    }\n    if (this._color !== undefined) {\n      const currentOpacity = paint.getAlphaf();\n      paint.setShader(null);\n      paint.setColor(this._color);\n      paint.setAlphaf(currentOpacity * paint.getAlphaf());\n    }\n    if (this._strokeWidth !== undefined) {\n      paint.setStrokeWidth(this._strokeWidth);\n    }\n    if (this._blendMode !== undefined) {\n      paint.setBlendMode(this._blendMode);\n    }\n    if (this._style !== undefined) {\n      paint.setStyle(this._style);\n    }\n    if (this._strokeJoin !== undefined) {\n      paint.setStrokeJoin(this._strokeJoin);\n    }\n    if (this._strokeCap !== undefined) {\n      paint.setStrokeCap(this._strokeCap);\n    }\n    if (this._strokeMiter !== undefined) {\n      paint.setStrokeMiter(this._strokeMiter);\n    }\n    if (this._antiAlias !== undefined) {\n      paint.setAntiAlias(this._antiAlias);\n    }\n    if (this._dither !== undefined) {\n      paint.setDither(this._dither);\n    }\n    if (this._imageFilter !== undefined) {\n      paint.setImageFilter(this._imageFilter);\n    }\n    if (this._shader !== undefined) {\n      paint.setShader(this._shader);\n    }\n    if (this._pathEffect !== undefined) {\n      paint.setPathEffect(this._pathEffect);\n    }\n    if (this._colorFilter !== undefined) {\n      paint.setColorFilter(this._colorFilter);\n    }\n    if (this._maskFilter !== undefined) {\n      paint.setMaskFilter(this._maskFilter);\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}